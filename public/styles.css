:root { --bg:#0f172a; --card:#111827; --text:#e5e7eb; --muted:#94a3b8; --accent:#22d3ee; }
* { box-sizing: border-box; }
html, body { height: 100%; }
body { margin:0; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif; background: radial-gradient(1200px 800px at 20% -10%, rgba(34,211,238,0.08), transparent), radial-gradient(1000px 700px at 120% -20%, rgba(59,130,246,0.07), transparent), var(--bg); color: var(--text); }
.app { max-width: 1200px; margin: 0 auto; padding: 24px; height: 100vh; min-height: 100vh; display: flex; flex-direction: column; overflow: hidden; }
/* Home page */
.home { flex: 1; height: 100%; display:flex; flex-direction: column; gap: 24px; overflow: hidden; }
.topbar { display:flex; align-items:center; justify-content: space-between; padding: 8px 4px; }
.brand { display:flex; align-items:center; gap:8px; font-weight:900; font-size: 18px; letter-spacing: 0.2px; color: var(--text); text-decoration: none; }
.brand img { height: 54px; width: auto; display:block; }
@media (min-width: 900px) {
  .brand img { height: 63px; }
}
.auth-actions { display:flex; gap:10px; }
.btn { padding:8px 14px; border-radius: 10px; cursor:pointer; font-weight:700; transition: all .2s ease; }
.btn.solid { background: var(--accent); color:#ffffff; border:none; }
.btn.ghost { background: rgba(255,255,255,0.02); border:1px solid #1f2937; color: var(--text); }
.btn:hover { transform: translateY(-1px); box-shadow: 0 6px 18px rgba(34,211,238,0.15); }

.hero { display:grid; grid-template-columns: 1.1fr 0.9fr; align-items:center; gap: 24px; background: linear-gradient(180deg, rgba(17,24,39,0.85), rgba(10,14,23,0.9)); border:1px solid rgba(31,41,55,0.9); border-radius: 18px; padding: 36px; box-shadow: 0 20px 50px rgba(0,0,0,0.45), inset 0 1px 0 rgba(255,255,255,0.02); backdrop-filter: blur(4px); }
.hero-copy h1 { margin: 0 0 18px; font-size: 42px; line-height: 1.12; letter-spacing: -0.5px; }
.hero-copy p { margin: 0 0 28px; color: var(--muted); }
.cta { display:inline-flex; align-items:center; gap:10px; background: transparent; border:1px solid rgba(255,255,255,0.25); padding:12px 16px; border-radius: 999px; color:#ffffff; cursor:pointer; font-weight:500; font-size:15px; transition: background-color .18s ease, border-color .18s ease, transform .18s ease; margin-top: 6px; }
.cta .icon-target { width: 20px; height: 20px; color: #ffffff; }
.cta .label { letter-spacing: .2px; }
.cta:hover { background: rgba(255,255,255,0.06); border-color: rgba(255,255,255,0.35); transform: translateY(-1px); }
.cta:hover { transform: translateY(-2px); box-shadow: 0 16px 40px rgba(34,211,238,0.35); }
.hero-art { display:flex; align-items:center; justify-content:center; }
.hero-art img { width: 100%; max-width: 520px; height: auto; filter: drop-shadow(0 16px 28px rgba(0,0,0,0.35)); object-fit: contain; }

@media (max-width: 820px) {
  .hero { grid-template-columns: 1fr; text-align: center; }
  .hero-art { order: -1; }
}
header { display:flex; align-items:center; justify-content: space-between; margin-bottom: 12px; position: relative; z-index: 10; }
header h1 { font-size: 20px; margin:0; }
header button { background: var(--accent); border:none; padding:8px 12px; border-radius: 8px; color:#ffffff; cursor:pointer; font-weight:600; }
.chatpage { flex: 1; height: 100%; display:flex; flex-direction: column; overflow: hidden; }
.chatpage main { position: relative; height: calc(100vh - 120px); margin-top: 12px; }
@media (max-width: 900px) {
  .chatpage main { height: calc(100vh - 140px); }
}
.chat-card { position: absolute; top: 0; right: 0; bottom: 0; left: 0; background: #000; border-radius: 12px; padding: 14px; }
.chat-layout { height: 100%; display: flex; gap: 12px; }
.sidebar { width: 25%; max-width: 280px; display:flex; flex-direction: column; gap: 12px; }
.sidebar .panel { background:#0b1220; border:1px solid #1f2937; border-radius: 10px; padding: 10px; min-height: 120px; }
.panel-head { display:flex; align-items:center; justify-content: space-between; gap:8px; margin-bottom: 6px; }
.panel-actions { display:flex; align-items:center; gap:6px; }
.icon-btn { width:24px; height:24px; border-radius:6px; border:1px solid #1f2937; background:#0b1220; color:#e5e7eb; cursor:pointer; font-weight:700; line-height: 22px; text-align:center; padding:0; }
.icon-btn:hover { background:#0c1322; }
.icon-btn:disabled { opacity: .4; cursor: not-allowed; pointer-events: none; }
.sidebar h4 { margin:0 0 8px 0; font-size:14px; color:#94a3b8; font-weight:700; letter-spacing:.3px }
.sidebar .list { list-style:none; margin:0; padding:0; max-height: 40vh; overflow:auto; display:flex; flex-direction: column; gap:6px; }
/* Sidebar lists default (keeps Your packages as before) */
.sidebar .list li { font-size: 13px; color:#e5e7eb; border:1px solid #1f2937; border-radius:8px; padding:8px; background:#0b1220; cursor:pointer; }
.sidebar .list li:hover { background:#0c1322; }

/* Tracking history list gets inline delete button */
#historyList li { display:flex; align-items:center; justify-content: space-between; gap:8px; }
#historyList li .text { flex: 1; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
#historyList li .del { display:none; width:22px; height:22px; border-radius:6px; border:1px solid #1f2937; background:#0b1220; color:#e5e7eb; line-height:20px; text-align:center; cursor:pointer; }
#historyList li:hover .del { display:block; }
.sidebar .list li .title { display:block; font-weight:600; margin-bottom:2px; }
.sidebar .list li .sub { display:block; color:#94a3b8; font-size:12px; }
.sidebar .empty { font-size: 13px; color:#94a3b8; }
.chat-main { flex:1; display:flex; flex-direction: column; }
.chat { flex: 1; min-height: 0; overflow-y: auto; display:flex; flex-direction: column; gap: 8px; }
.msg { display:flex; gap: 8px; }
.msg .bubble { padding:8px 12px; border-radius: 12px; max-width: 70%; white-space: pre-wrap; }
.msg.full .bubble { max-width: 100%; }
.msg .bubble.map { padding: 0; overflow: hidden; background: #0b1220; border: 1px solid #26475a; border-radius: 12px; }
.map-embed { position: relative; display: block; width: 100%; height: 280px; background: #0b1220; }
.map-loading { position:absolute; inset:0; display:flex; align-items:center; justify-content:center; color:#94a3b8; font-size:14px; }
.map-embed iframe { width: 100%; height: 100%; border: 0; display: block; }
.map-embed .leaflet-container, .map-embed .leaflet-pane, .map-embed .leaflet-map-pane {
  width: 100% !important;
  height: 100% !important;
}
.msg.user { justify-content:flex-end; }
.msg.user .bubble { background:#1e293b; }
.msg.bot .bubble { background:#0b2530; border: 1px solid #143b49; }
.chat-card .input-row { display:flex; gap:8px; margin: 0 0 8px 0; width: 100%; padding-top: 8px; }
.input-row input { flex:1; padding: 10px; border-radius: 10px; border:1px solid #1f2937; background:#0b1220; color:var(--text); }
.input-row button { padding: 10px 14px; border-radius: 10px; background: var(--accent); border:none; color:#ffffff; font-weight:700; cursor:pointer; }
.map { position: relative; margin-top: 12px; height: 240px; border-radius: 12px; overflow:hidden; display:none; }
.map-close { position:absolute; top:8px; right:8px; width:28px; height:28px; border-radius:999px; border:1px solid rgba(255,255,255,0.2); background: rgba(0,0,0,0.45); color:#fff; font-size:18px; line-height: 26px; text-align:center; cursor:pointer; z-index: 1000; }
.map-close:hover { background: rgba(0,0,0,0.65); }
footer { margin-top:10px; color: var(--muted); }

/* Auth modal */
.modal { position: fixed; inset:0; z-index: 50; }
.modal-backdrop { position:absolute; inset:0; background: rgba(0,0,0,0.5); backdrop-filter: blur(2px); }
.modal-card { position: relative; z-index: 60; max-width: 380px; margin: 10vh auto; background: #0b1220; border:1px solid #1f2937; border-radius: 12px; padding: 18px; box-shadow: 0 18px 40px rgba(0,0,0,0.5); }
.modal-card h3 { margin: 0 0 12px; }
.modal-card form { display:flex; flex-direction: column; gap: 12px; }
.modal-card label { display:flex; flex-direction: column; gap:6px; font-size: 14px; color: var(--muted); }
.modal-card input { padding:10px 12px; border-radius:10px; border:1px solid #1f2937; background:#0b1220; color:var(--text); }
.modal-actions { display:flex; justify-content:flex-end; gap:10px; margin-top: 8px; }
.input-wrap { position: relative; }
.input-wrap input { width: 100%; padding-right: 38px; }
.eye-btn { position:absolute; right:8px; top:50%; transform: translateY(-50%); width:28px; height:28px; border:none; background:transparent; color:#94a3b8; cursor:pointer; display:flex; align-items:center; justify-content:center; }
.eye-btn:hover { color:#e5e7eb; }
.eye-btn svg { width:18px; height:18px; display:block; }
.btn.danger { background: #ef4444; border:none; color:#fff; }
.btn.danger:hover { filter: brightness(1.05); transform: translateY(-1px); }

/* Signup page */
.signup-main { flex:1; height: 100%; display:flex; align-items: center; justify-content: center; overflow: auto; }
.signup-card { width: 100%; max-width: 640px; background: linear-gradient(180deg, rgba(17,24,39,0.9), rgba(10,14,23,0.95)); border:1px solid rgba(31,41,55,0.9); border-radius: 16px; padding: 20px; box-shadow: 0 24px 60px rgba(0,0,0,0.55); }
.signup-card h2 { margin: 0 0 4px; font-size: 28px; }
.signup-card .sub { margin: 0 0 10px; color: var(--muted); }
.signup-card form { display:flex; flex-direction: column; gap: 10px; }
.signup-card label { display:flex; flex-direction: column; gap:5px; font-size: 14px; color: var(--muted); }
.signup-card input { width: 100%; padding: 10px 12px; border-radius: 12px; border: 1px solid #1f2937; background: #0b1220; color: var(--text); }
.signup-card input:focus { outline: none; border-color: #22d3ee; box-shadow: 0 0 0 3px rgba(34,211,238,0.15); }
.grid.two { display:grid; grid-template-columns: 1fr 1fr; gap: 10px; }
.strength { height: 6px; background: #111827; border-radius: 6px; overflow:hidden; margin-top: 4px; }
.strength span { display:block; height:100%; width:0%; background:#ef4444; transition: width .2s linear, background .2s linear; }
/* Password checks */
.checks { list-style: none; margin: 6px 0 0; padding: 0; display: grid; grid-template-columns: 1fr 1fr; gap: 6px 12px; }
.checks li { position: relative; padding-left: 20px; color: #94a3b8; font-size: 12px; }
.checks li::before { content: '○'; position:absolute; left:0; top:0; color:#64748b; }
.checks li.ok { color:#10b981; }
.checks li.ok::before { content: '✓'; color:#10b981; }

/* Auth avatar */
.auth-user { display:flex; align-items:center; gap:10px; }
.auth-user img { width: 28px; height:28px; border-radius:50%; border:1px solid #1f2937; object-fit: cover; }

/* Signup avatar uploader */
.avatar-uploader { display:flex; justify-content:center; margin: 4px 0 10px; }
.avatar-circle { position: relative; width: 92px; height: 92px; aspect-ratio: 1 / 1; border-radius: 50%; border: 2px dashed #1f2937; background: #0b1220; display:flex; align-items:center; justify-content:center; cursor:pointer; transition: border-color .2s ease, background-color .2s ease; overflow: hidden; padding: 0; box-sizing: border-box; appearance: none; -webkit-appearance: none; }
.avatar-circle:hover { border-color: #334155; background: #0c1322; }
.avatar-circle img { width: 100%; height: 100%; display:block; border-radius: 50%; object-fit: cover; object-position: center; clip-path: circle(50% at 50% 50%); }
.avatar-overlay { position:absolute; bottom: 6px; left: 50%; transform: translateX(-50%); background: rgba(0,0,0,0.55); color:#fff; font-size:12px; padding: 3px 8px; border-radius: 999px; border: 1px solid rgba(255,255,255,0.15); }

/* Signup footer */
.form-footer { display:flex; align-items:center; justify-content: space-between; margin-top: 4px; }
.muted-link { color: var(--muted); text-decoration: none; }
.muted-link:hover { color: #e5e7eb; text-decoration: underline; }

/* Signup primary button */
.cta-signup {
  position: relative;
  background: var(--accent); /* keep previous accent color, no gradient */
  border: 1px solid rgba(255,255,255,0.12);
  color: #ffffff;
  padding: 14px 56px 14px 22px; /* extra space for the circle arrow */
  border-radius: 999px;
  font-weight: 600;
  box-shadow: 0 16px 40px rgba(34,211,238,0.28);
}
.cta-signup:hover { transform: translateY(-1px); filter: brightness(1.03); }
.cta-signup::after {
  content: '→';
  position: absolute;
  right: 8px;
  top: 50%;
  transform: translateY(-50%);
  width: 30px;
  height: 30px;
  border-radius: 50%;
  background: rgba(255,255,255,0.28);
  color: #ffffff;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
}
